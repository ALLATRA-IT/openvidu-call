<div id="videoRoomNavBar">

  <app-toolbar [lightTheme]="lightTheme" [showNotification]="messageReceived && chatDisplay === 'none'" [compact]="compact"
    [localUser]="localUser" [mySessionId]="mySessionId" (camButtonClicked)="camStatusChanged()" (micButtonClicked)="micStatusChanged()"
    (screenShareClicked)="screenShare()" (screenShareDisabledClicked)="screenShareDisabled()" (exitButtonClicked)="exitSession()"
    (chatButtonClicked)="toggleChat($event)"></app-toolbar>


  <div id="layout" class="bounds" [class.boundsLight]="lightTheme">
    <div *ngIf="localUser && this.localUser.getStreamManager()" class="OT_root OT_publisher custom-class" id="localUser">
      <stream-component #videoStream [user]="localUser" [localUser]="localUser" [lightTheme]="lightTheme" [showNotification]="messageReceived && chatDisplay === 'none'"
        [compact]="compact" (nicknameClicked)="nicknameChanged($event)" (camButtonClicked)="camStatusChanged()" (micButtonClicked)="micStatusChanged()"
        (exitButtonClicked)="exitSession()" (chatButtonClicked)="toggleChat($event)" (screenShareClicked)="screenShare()" (screenShareDisabledClicked)="screenShareDisabled()"></stream-component>
    </div>

    <div *ngFor="let user of this.remoteUsers" class="OT_root OT_publisher  custom-class" id="remoteUsers">
      <stream-component #videoStream [user]="user" [localUser]="localUser" [lightTheme]="lightTheme" [showNotification]="messageReceived && chatDisplay === 'none'"
        [compact]="compact" (camButtonClicked)="camStatusChanged()" (micButtonClicked)="micStatusChanged()" (exitButtonClicked)="exitSession()"
        (chatButtonClicked)="toggleChat($event)" (screenShareClicked)="screenShare()" (screenShareDisabledClicked)="screenShareDisabled()"></stream-component>
    </div>

    <div class="OT_root OT_dialog  custom-class" [style.display]="chatDisplay" *ngIf="localUser && this.localUser.getStreamManager() && !compact">
      <chat-component #chatNavbar [user]="this.localUser" [chatDisplay]="chatDisplay" [lightTheme]="lightTheme" (messageReceived)="checkNotification($event)"></chat-component>
    </div>
  </div>
  
</div>